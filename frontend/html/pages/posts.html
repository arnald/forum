<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Posts - Forum</title>
    <!-- Link to main stylesheet for consistent forum styling -->
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <!-- Navigation bar with conditional user info display -->
    <nav>
        <!-- Standard navigation links -->
        <a href="/">Home</a>
        <a href="/posts">Posts</a>
        <a href="/login">Login</a>

        <!-- User info section - only shown when user is authenticated -->
        <!-- JavaScript will show/hide this based on login status -->
        <span id="user-info" style="display: none;">
            Welcome, <span id="username"></span>!
            <a href="/create-post">Create Post</a>
            <button id="logout-btn">Logout</button>
        </span>
    </nav>

    <!-- Main content area -->
    <main>
        <h1>Forum Posts</h1>

        <!-- Filter Section - allows users to filter posts by different criteria -->
        <div class="filters">
            <h3>Filter Posts</h3>

            <!-- Filter buttons for different post views -->
            <div class="filter-buttons">
                <!-- Show all posts (default) -->
                <button class="filter-btn active" data-filter="all">All Posts</button>

                <!-- Filter by category -->
                <button class="filter-btn" data-filter="category">By Category</button>

                <!-- Show only user's posts - hidden until user logs in -->
                <button class="filter-btn" data-filter="my-posts" style="display: none;">My Posts</button>

                <!-- Show only posts user has liked - hidden until user logs in -->
                <button class="filter-btn" data-filter="liked" style="display: none;">Liked Posts</button>
            </div>

            <!-- Category filter dropdown - shown when "By Category" is selected -->
            <!-- JavaScript will populate this with available categories -->
            <div id="category-filter" style="display: none;">
                <select id="category-select">
                    <option value="">Select Category</option>
                    <!-- Options will be dynamically loaded from API -->
                </select>
            </div>
        </div>

        <!-- Posts List Container -->
        <!-- This is where all posts will be dynamically rendered -->
        <!-- Content is loaded and updated by posts.js based on selected filters -->
        <div id="posts-list">
            <!-- Posts will be loaded here by JavaScript -->
            <!-- Each post includes: title, content, author, vote counts, categories -->
        </div>
    </main>

    <!-- JavaScript files for functionality -->
    <!-- auth.js handles user authentication state and UI updates -->
    <script src="/static/js/auth.js"></script>
    <!-- posts.js handles post loading, filtering, voting, and interactions -->
    <script src="/static/js/posts.js"></script>
</body>
</html>